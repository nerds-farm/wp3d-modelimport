!function(){"use strict";var e,t={574:function(){var e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,a=window.wp.components,n=window.wp.blockEditor,o=window.wp.data,r=function(e){const[o,r]=(0,t.useState)(0),[i,c]=(0,t.useState)(""),[s,g]=(0,t.useState)({id:0,url:"",alt:"",title:""});(0,t.useEffect)((()=>{}),[]);const m=t=>{e.onAdd(t),g({id:t.id,url:t.url,alt:t.alt,title:t.title}),console.log("media_data",t.id,t.url)};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"choose-wp3d"},(0,t.createElement)("h3",null,(0,t.createElement)(a.Icon,{icon:"format-image"})," ",e.label?(0,l.__)(e.label,"wp3d-earth"):(0,l.__)("Image","wp3d-earth")),(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(n.MediaUpload,{onSelect:m,value:e.value.id,allowedTypes:["image"],multiple:!1,render:n=>{let{open:o}=n;return(0,t.createElement)(a.Button,{className:0==e.value.id?"editor-post-featured-image__toggle":"editor-post-featured-image__preview",onClick:o},e.value.id?(0,t.createElement)("img",{src:e.value.url}):(0,t.createElement)("div",null,e.chooselabel?(0,l.__)(e.chooselabel+" "+e.mimetype,"wp3d-earth"):(0,l.__)("Choose an image","wp3d-earth")))}})),0!=e.value.id&&(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(n.MediaUpload,{title:(0,l.__)("Replace image","wp3d-earth"),value:e.value.id,onSelect:m,allowedTypes:["image"],render:e=>{let{open:n}=e;return(0,t.createElement)(a.Button,{variant:"secondary",onClick:n},(0,l.__)("Replace image","wp3d-earth"))}})),(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(a.Button,{isDestructive:!0,onClick:()=>{e.onRemove(),g({id:0,url:"",alt:"",title:""})}},(0,l.__)("Remove image","wp3d-earth"))))))},i=window.wp.compose;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},c.apply(this,arguments)}var s=JSON.parse('{"u2":"wp3d/model-light3d"}');(0,e.registerBlockType)(s.u2,{example:{attributes:{message:"SVG Extrusion"}},edit:function e(c){let{attributes:s,setAttributes:g,clientId:m}=c;const[d,p]=(0,t.useState)(""),u=(0,n.useBlockProps)(),_=(0,t.useRef)(),h=(0,i.useInstanceId)(e),{ide:b,light_type:y,light_color:w,light_intensity:v,light_decay:E,light_penumbra:k,light_angle:f,light_distance:C,lightpoint_fly:x,geometry_light_posx:R,geometry_light_posy:S,geometry_light_posz:F,geometry_light_targetx:O,geometry_light_targety:P,geometry_light_targetz:V,light_map:B,geometry_shadow_focus:L,enable_shadows:N,geometry_shadow_radius:j,geometry_shadow_blurSamples:I}=s;(0,t.useEffect)((()=>{g({ide:`wp3d-light3d-${h}`})}),[]),(0,t.useEffect)((()=>{p(jQuery(_.current).data("light"))}),[b]);const z=(0,o.useSelect)((e=>e("core/block-editor").getSelectedBlock())),{getSelectedBlock:M,getBlockHierarchyRootClientId:Q,getSelectedBlockClientId:T,getBlockAttributes:A}=(0,o.useSelect)((e=>e("core/block-editor"))),U=(M(),T());function D(e,t){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g(t),s[e]=t[e],l&&jQuery(_.current).data("light").elementChange(b,e,s)}return Q(m),A(T()),(0,t.useEffect)((()=>{m==U?jQuery(_.current).data("light")&&(jQuery(_.current).data("light").updateHelperMesh(b),jQuery(_.current).data("light").on("transformcontrolchange",(e=>{!function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;t&&(D("geometry_light_posx",{geometry_light_posx:t.posx},e),D("geometry_light_posy",{geometry_light_posy:t.posy},e),D("geometry_light_posz",{geometry_light_posz:t.posz},e))}(!1,{posx:e[0],posy:e[1],posz:e[2]})}))):jQuery(_.current).data("light")&&(jQuery(_.current).data("light").updateHelperMesh(),jQuery(_.current).data("light").off("transformcontrolchange"))}),[z]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",u,(0,t.createElement)("div",{ref:_,id:b,className:"wp3d-light3d-itemlight","data-settings":JSON.stringify(s)},(0,t.createElement)("span",{className:"wp3d-trace"},(0,t.createElement)("span",{className:"wp3d-trace-name"},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-light-wp3d"})," LighthÂ "),(0,t.createElement)("span",{className:"wp3d-trace-type"},y),(0,t.createElement)("span",{className:"wp3d-trace-color"},w)))),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,l.__)("Light","wp3d-blocks"),initialOpen:!0},(0,t.createElement)(a.SelectControl,{label:(0,l.__)("Light Type","wp3d-blocks"),value:y,options:[{label:"Point",value:"pointLight"},{label:"Directional",value:"directionalLight"},{label:"Spot",value:"spotLight"}],onChange:e=>{D("light_type",{light_type:e})}}),(0,t.createElement)(a.ColorPicker,{label:(0,l.__)("Light Color","wp3d-blocks"),color:w,onChange:e=>D("light_color",{light_color:e}),defaultValue:"#FFF"}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Intensity","wp3d-blocks"),value:v,onChange:e=>D("light_intensity",{light_intensity:e}),min:0,max:20,step:.01,resetFallbackValue:1}),(0,t.createElement)("h3",{className:"panelbody-heading"},(0,t.createElement)(a.Icon,{icon:"admin-settings"})," ",(0,l.__)("Options","wp3d-blocks")),("pointLight"==y||"spotLight"==y)&&(0,t.createElement)("div",null,(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Decay","wp3d-blocks"),value:E,onChange:e=>D("light_decay",{light_decay:e}),min:1,max:2,step:.001,resetFallbackValue:1}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Distance","wp3d-blocks"),value:C,onChange:e=>D("light_distance",{light_distance:e}),min:0,max:100,step:1,resetFallbackValue:3})),"spotLight"==y&&(0,t.createElement)("div",null,(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Penumbra","wp3d-blocks"),value:k,onChange:e=>D("light_penumbra",{light_penumbra:e}),min:0,max:1,step:.001,resetFallbackValue:.5}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Angle","wp3d-blocks"),value:f,onChange:e=>D("light_angle",{light_angle:e}),min:1,max:36,step:.01,resetFallbackValue:3})),"pointLight"==y&&(0,t.createElement)(a.ToggleControl,{label:(0,l.__)("Flying Point","wp3d-blocks"),checked:x,onChange:e=>D("lightpoint_fly",{lightpoint_fly:e})}),(0,t.createElement)("h3",{className:"panelbody-heading"},(0,t.createElement)(a.Icon,{icon:"move"})," ",(0,l.__)("Position","wp3d-blocks")),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Pos-X","wp3d-blocks"),value:R,onChange:e=>D("geometry_light_posx",{geometry_light_posx:e}),min:-10,max:10,step:.001,resetFallbackValue:-2}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Pos-Y","wp3d-blocks"),value:S,onChange:e=>D("geometry_light_posy",{geometry_light_posy:e}),min:-10,max:10,step:.001,resetFallbackValue:0}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Pos-Z","wp3d-blocks"),value:F,onChange:e=>D("geometry_light_posz",{geometry_light_posz:e}),min:-10,max:10,step:.001,resetFallbackValue:0}),("directionalLight"==y||"spotLight"==y)&&(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"panelbody-heading"},(0,t.createElement)(a.Icon,{icon:"insert"})," ",(0,l.__)("Target","wp3d-blocks")),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("X","wp3d-blocks"),value:O,onChange:e=>D("geometry_light_targetx",{geometry_light_targetx:e}),min:-10,max:10,step:.001,resetFallbackValue:0}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Y","wp3d-blocks"),value:P,onChange:e=>D("geometry_light_targety",{geometry_light_targety:e}),min:-10,max:10,step:.001,resetFallbackValue:0}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Z","wp3d-blocks"),value:V,onChange:e=>D("geometry_light_targetz",{geometry_light_targetz:e}),min:-10,max:10,step:.001,resetFallbackValue:0}))),(0,t.createElement)(a.PanelBody,{title:(0,l.__)("Shadows","wp3d-blocks"),initialOpen:!0},(0,t.createElement)(a.ToggleControl,{label:(0,l.__)("Enable Shadows","wp3d-blocks"),checked:N,onChange:e=>D("enable_shadows",{enable_shadows:e})}),N&&(0,t.createElement)("div",null,(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Radius","wp3d-blocks"),value:j,onChange:e=>D("geometry_shadow_radius",{geometry_shadow_radius:e}),min:0,max:100,step:.001,resetFallbackValue:0}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Blur Samples","wp3d-blocks"),value:I,onChange:e=>D("geometry_shadow_blurSamples",{geometry_shadow_blurSamples:e}),min:0,max:50,step:1,resetFallbackValue:0}))),"spotLight"==y&&(0,t.createElement)(a.PanelBody,{title:(0,l.__)("Light Map","wp3d-blocks"),initialOpen:!0},(0,t.createElement)(r,{label:(0,l.__)("Map Image","wp3d-blocks"),chooselabel:"Choose an image",value:B,mimetype:allowedMimetype,onAdd:e=>{D("light_map",{light_map:{id:e.id,url:e.url,alt:e.alt,title:e.title}})},onRemove:()=>{D("light_map",{light_map:{id:0,url:"",alt:"",title:""}})}}),(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Focus","wp3d-blocks"),value:L,onChange:e=>D("geometry_shadow_focus",{geometry_shadow_focus:e}),min:0,max:1,step:.001,resetFallbackValue:1}))))},save:function(e){let{attributes:l}=e;const a=n.useBlockProps.save();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",c({id:l.ide},a,{className:"wp3d-light3d-itemlight","data-settings":JSON.stringify(l)})))}})}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=function(t,l,n,o){if(!l){var r=1/0;for(g=0;g<e.length;g++){l=e[g][0],n=e[g][1],o=e[g][2];for(var i=!0,c=0;c<l.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[c])}))?l.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(g--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var g=e.length;g>0&&e[g-1][2]>o;g--)e[g]=e[g-1];e[g]=[l,n,o]},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={339:0,44:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,r=l[0],i=l[1],c=l[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var g=c(a)}for(t&&t(l);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(g)},l=self.webpackChunkwp3d_modelimport=self.webpackChunkwp3d_modelimport||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=a.O(void 0,[44],(function(){return a(574)}));n=a.O(n)}();